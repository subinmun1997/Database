# 제 1절 관계형 데이터베이스 개요

## 1. 모델링의 이해

### 1. 모델링의 정의

 * 모델을 만들어가는 일 자체를 모델링으로 정의
 * 모델에 대한 다양한 정의
 
   1. Webster 사전
      
      * 가설적 또는 일정 양식에 맞춘 표현
      * 어떤 것에 대한 예비 표현으로, 이 표현으로부터 최종 대상이 구축되도록 하는 계획으로서 기여하는 것
    
   2. 복잡한 현실 세계를 단순화시켜 표현하는 것
   3. 사람 또는 사건에 관한 양상이나 관점을 연관된 사람이나 그룹을 위하여 명확하게 하는 것
   4. 현실 세계의 추상화된 반영
   
### 2. 모델링의 특징

 1. 추상화 : 현실 세계를 일정한 형식에 맞추어 표현하는 것
 
 2. 단순화 : 현실 세계를 약속된 규약에 의해 제한된 표기법이나 언어로 표현하는 것
 
 3. 명확화 : 누구나 이해하기 쉽게 대상에 대해 정확하게 현상을 기술하는 것 
 
 > 모델링은 현실 세계를 추상화, 단순화, 명확화하기 위해 일정한 표기법에 의해 표현하는 기법
 
### 3. 모델링의 세 가지 관점

 시스템의 대상이 되는 업무를 분석하여 정보시스템으로 구성하는 과정에서 업무의 내용과 정보 시스템의 모습을 적절한 표기법으로 표현하는 것을 모델링이라고 한다면, 모델링을 다음과 같은 세가지 관점으로 구분하여 설명 할 수 있다.
 
 1. 데이터 관점
   
    업무가 어떤 데이터와 관련이 있는지 또는 데이터 간의 관계는 무엇인지에 대해서 모델링 하는 방법 (What, Data)
    
 2. 프로세스 관점
 
    업무가 실제 하고 있는 일은 무엇인지 또는 무엇을 해야 하는지를 모델링하는 방법 (How, Data)
    
 3. 데이터와 프로세스의 상관관점
 
    업무가 처리하는 일의 방법에 따라 데이터는 어떻게 영향을 받고 있는지 모델링하는 방법 (Interaction)
    
 <br>
 
## 2. 데이터 모델의 기본 개념 이해

### 1. 데이터 모델링의 정의

 * 데이터 모델링의 정의
  
   1. 정보 시스템을 구축하기 위한 데이터 관점의 업부 분석 기법
   2. 현실 세계의 데이터에 대한 약속된 표기법에 의해 표현하는 과정
   3. 데이터베이스를 구축하기 위한 분석/설계 과정
 
 * 데이터 모델링을 하는 주요 이유
 
   1. 정보 시스템 구축의 대상이되는 업무 내용을 정확하게 분석하는 것
   2. 분석된 모델을 가지고 실제 데이터베이스를 생성하여 개발 및 데이터 관리에 사용하는 것

### 2. 데이터 모델이 제공하는 기능

 1. 시스템을 현재 또는 원하는 모습으로 가시화하도록 도와줌
 2. 시스템의 구조와 행동을 명세화 할 수 있음
 3. 시스템을 구축하는 구조화된 틀 제공
 4. 시스템을 구축하는 과정에서 결정한 것을 문서화
 5. 다양한 영역에 집중하기 위해 다른 영역의 세부 사항을 숨기는 다양한 관점 제공
 6. 특정 목적에 따라 구체화된 상세 수준의 표현 방법 제공
 
 <br>
 
## 3. 데이터 모델링의 중요성 및 유의점

### 1. 파급 효과 (Leverage)

 데이터 모델의 변경이 불가피한 상황이 발생했을 때 많은 영향 분석과 실제적인 변경 작업이 발생하게 된다.
 데이터 구조의 변경으로 인한 일련의 변경 작업은 전체 시스템 구축 프로젝트에서 큰 위험 요소로 적용하며, 이러한 이유에서 데이터 설계가 중요하다고 볼 수 있다.
 
### 2. 복잡한 정보 요구사항의 간결한 표현 (Comciseness)

 데이터 모델은 구축할 시스템의 정보 요구사항과 한계를 가장 명확하고 간결하게 표현할 수 있는 도구
 
### 3. 데이터 품질 (Data Quality)

 * 데이터는 기간이 오래되면 될수록 활용 가치가 높아지기 때문에 데이터 품질은 매우 중요
 * 데이터 품질의 문제가 야기되는 중대한 이유 중 하나는 데이터 구조의 문제
 
   1. 중복 데이터의 미정의 -> 중복
   2. 데이터 구조의 비즈니스 정의의 불충분 -> 비유연성
   3. 동일한 성격의 데이터를 통합하지 않고 분리함으로써 나타나는 데이터 불일치 -> 비일관성
   
 * 데이터 모델링을 할 때 유의점
 
   1. 중복 (Duplication)
   
      데이터베이스가 여러 장소에 같은 정보를 저장하지 않도록 유의
      
   2. 비유연성 (Inflexibility)
   
      데이터의 정의를 데이터의 사용 프로세스와 분리함으로써 애플리케이션과 데이터베이스에 중대한 변화를 일으킬 가능성을 줄임
      
   3. 비일관성 (Inconsistency)
   
      데이터 간 상호 연관 관계에 대한 명확한 정의
      
 <br>
 
## 4. 데이터 모델링의 3단계 진행

![sqlp1](https://user-images.githubusercontent.com/52366841/128974311-935dcbe6-0eb3-4cd2-ad37-4fb343accd69.PNG)

### 1. 개념적 데이터 모델링
 
 * 핵심 엔티티와 그들 간의 관계를 발견하고, 이것을 표현하기 위해 엔티티-관계 다이어그램을 생성하는 것
  
 * 개념 데이터 모델을 통해 조직의 데이터 요구를 공식화하는 것은 두 가지 중요한 기능 지원
   1. 사용자와 시스템 개발자가 데이터 요구 사항을 발견하는 것을 지원
   2. 현 시스템이 어떻게 변형되어야 하는가를 이해하는 데 유용
  
### 2. 논리적 데이터 모델링

 * 데이터베이스 설계 프로세스의 Input으로써 비즈니스 정보의 논리적인 구조와 규칙을 명확하게 표현하는 기법 또는 과정
 * 데이터 모델링 과정의 핵심
 * 이 단계에서 수행되는 중요한 활동은 정규화     
   정규화는 논리 데이터 모델 상세화 과정의 대표적인 활동으로, 논리 데이터 모델의 일관성을 확보하고 중복을 제거하여 속성들이 가장 적절한 엔티티에 배치되도록 함으로써 보다 신뢰성 있는 데이터 구조를 얻는 목적이 있다.
 * 논리 데이터 모델의 상세화: 식별자 확정, 정규화, M:M 관계 해소, 참조 무결성 규칙 정의 등
 
### 3. 물리적 데이터 모델링

 * 논리 데이터 모델이 데이터 저장소로써 어떻게 컴퓨터 하드웨어에 표현될 것인가를 다룸
 * 테이블, 칼럼 등으로 표현되는 물리적인 저장구조와 사용될 저장 장치, 자료를 추출하기 위한 접근 방법 등을 결정
 
### 4. 요약

![sqlp2](https://user-images.githubusercontent.com/52366841/128981948-7fa719bb-39d8-4f24-ab1e-356fa1f3e6d6.PNG)

 <br>
 
## 5. 프로젝트 생명주기 (Life Cycle)에서 데이터 모델링

 계획 또는 분석 단계에서 개념적 데이터 모델링, 분석 단계에서 논리적 데이터 모델링, 설계 단계에서 물리적 데이터 모델링이 수행되는데,
 현실 프로젝트에서는 개념적 모델이 생략된 개념/논리 데이터 모델링이 분석 단계 때 대부분 수행됨
 
 ![sqlp3](https://user-images.githubusercontent.com/52366841/128982791-d9976839-8a1c-4a80-9630-6688a39814c0.PNG)
 
## 6. 데이터 모델링에서 데이터 독립성의 이해

### 1. 데이터 독립성의 필요성

 * 지속적으로 증가하는 유지보수 비용을 절감하고 데이터 복잡도를 낮추며 중복된 데이터를 줄이기 위한 목적
 * 끊임없이 요구되는 사용자 요구사항에 대해 화면과 데이터베이스 간에 서로 독립성을 유지하기 위한 목적
 * 데이터 독립성 확보로 얻을 수 있는 효과
 
   1. 각 View의 독립성을 유지하면서 계층별 View에 영향을 주지 않고 변경 가능
   2. 단계별 Schema에 따라 데이터 정의어(DDL)와 데이터 조작어(DML)가 다름을 제공
   
 * 데이터 독립성을 이해하기 위해서는 3단계 구조, 독립성, 사상(Mapping) 3가지를 이해하면 됨

### 2. 데이터베이스 3단계 구조

![sqlp4](https://user-images.githubusercontent.com/52366841/128993296-039f5a30-7dc1-47bf-a0fa-c94561708890.PNG)

 * 외부 단계
   사용자와 가까운 단계, 사용자 개개인이 보는 자료에 대한 관점과 관련이 있음
   
 * 개념적 단계
   데이터 유형의 공통적인 사항을 처리하여 통합된 뷰를 스키마 구조로 디자인한 형태
   
 * 내부적 단계
   데이터가 물리적으로 저장된 방법에 대한 스키마 구조
   
### 3. 데이터 독립성 요소

 1. 외부 스키마 - 사용자 관점, 접근하는 특성에 따른 구성
 
    * View 단계
    * 여러 개의 사용자 관점으로 구성
    * 사용자 단계로써 사용자 개개인이 보는 개인적 DB 스키마
    * DB의 사용자 개개인이나 응용 프로그래머가 접근하는 DB 정의
   
 2. 개념 스키마 - 통합 관점
 
    * 개념 단계
    * 모든 사용자 관점을 통합한 조직 전체의 DB 기술
    * 모든 응용 시스템들이나 사용자들이 필요로 하는 데이터를 통합한 조직 전체의 DB 기술
    * DB에 저장되는 데이터와 그들 간의 관계를 표현한 스키마
    
 3. 내부 스키마 - 물리적 저장 구조
 
    * 내부 단계
    * DB가 물리적으로 저장된 형식
    * 물리적 장치에서 데이터가 실제적으로 저장되는 방법을 표현하는 스키마
    
### 4. 두 영역의 데이터 독립성

 1. 논리적 독립성
 
    * 개념 스키마가 변경되어도 외부 스키마에는 영향을 미치지 않도록 지원하는 것
    * 논리적 구조가 변경되어도 응용 프로그램에는 영향 없음
    * 사용자 특성에 맞는 변경 가능
    * 통합 구조 변경 가능
    
 2. 물리적 독립성
 
    * 내부 스키마가 변경되어도 외부/개념 스키마는 영향을 받지 않도록 지원하는 것
    * 저장 장치의 구조 변경은 응용 프로그램과 개념 스키마에 영향 없음
    * 물리적 구조 영향 없이 개념 구조 변경 가능
    * 개념 구조 영향 없이 물리적 구조 변경 가능
    
### 5. 사상 (Mapping)

 * 사상은 상호 독립적인 개념을 연결시켜주는 다리를 의미
 * 사상
 
   1. 외부적/개념적 사상 (논리적 사상)
   
      * 외부적 뷰와 개념적 뷰의 상호 관련성을 정의
      * 외부 화며니나 사용자에게 인터페이스 하기 위한 스키마 구조는 전체가 통합된 개념적 스키마와 연결된다는 것
      * 사용자가 접근하는 형식에 따라 다른 타입의 필드를 가질 수 있음. 개념적 뷰의 필드 타입은 변화 없음
      
   2. 개념적/내부적 사상 (물리적 사상)
   
      * 개념적 뷰와 저장된 데이터베이스의 상호 관련성 정의
      * 통합된 개념적 스키마 구조와 물리적으로 저장된 구조의 물리적인 테이블 스페이스가 연결되는 구조
      * 저장된 데이터베이스 구조가 바뀐다면 개념적/내부적 사상이 바뀌어야 함. 그래야 개념적 스키마가 그대로 남아있게 됨
      
 * 각 단계 (외부, 개념적, 내부적)의 독립성을 보장하기 위해서 변경 사항이 발생했을 때 DBA가 적절하게 작업을 해주기 때문에 독립성이 보장된다고 할 수 있음
 
 <br>
 
## 7. 데이터 모델링의 중요한 세 가지 개념

### 1. 데이터 모델링의 세 가지 요소

 1. Things
 
    * 업무가 관여하는 어떤 것
    * 전체를 지칭하는 용어
    * 엔티티
    
 2. Attributes
 
    * 어떤 것이 가지는 성격
    * 세부적인 사항
    * 속성
    
 3. Relationships
 
    * 업무가 관여하는 어떤 것 간의 관계
    * 연관성
    * 관계
    
### 2. 단수와 집합(복수)의 명명

![sqlp5](https://user-images.githubusercontent.com/52366841/129123080-fd4f4366-8f89-46a1-b39d-be1570df86e3.PNG)

 * 실무 현장에서는 엔티티를 어떤 것에 대한 집합을 명명하여 지칭하며, 개별 요소에 대해서는 인스턴스/어커런스를 사용하여 단수 개념 표현
 * 관계도 복수로 통칭하여 표현하고 이에 대한 개별 연관성을 페어링이라고 부르기도 하지만, 일반적으로 단수든 복수든 관계라고 표현
 * 어떤 것이 가지는 성격에 대한 집합 개념은 속성이고 이에 대한 개별 값들은 속성 값으로 구분
 
 <br>
 
## 8. 데이터 모델링의 이해관계자

### 1. 이해관계자의 데이터 모델링 중요성 인식

 * 실제 모델링 작업은 응용 개발을 하는 사람이나 업무 분석가가 담당하고, 모델러나 DBA는 정확하게 모델링이 진행될 수 있도록 교육하고 제시하며 현안별로 직접 모델링을 진행하는 역할 수행
 * 데이터 모델링이라는 과정이 단지 데이터베이스를 설계한다는 측면보다 업무를 이해하고 분석하여 표현하는 것이 중요하고, 표현된 내용을 바탕으로 프로젝트 관련자와 의사소통하고 프로그램이나 다른 표기법과 비교 검증하는 일을 수행하는 등 많은 시간을 업무 분석과 설계에 할애하기 때문에 업무 영역별 개발팀에서 보통 데이터 모델링 진행
 
### 2. 데이터 모델링의 이해관계자

 1. 정보 시스템을 구축하는 모든 사람 (전문적으로 코딩만 하는 사람 포함)
 2. IT 기술에 종사하거나 전공하지 않았더라도 해당 업무에서 정보화를 추진하는 위치에 있는 사람

 <br>
 
## 9. 데이터 모델의 표기법인 ERD의 이해

### 1. 데이터 모델 표기법

 이론을 배울 때 엔티티를 사각형으로, 관계를 마름모로, 속성을 타원형으로 표현하는 Entity-Relationship Model (E-R Model)을 주로 사용
 
 ![sqlp6](https://user-images.githubusercontent.com/52366841/129125442-d908b864-e36b-48b4-b820-31ea6294645c.PNG)
 
### 2. ERD (Entity Relationship Diagram) 표기법을 이용하여 모델링하는 방법

 1. ERD 작업 순서
    
    엔티티 그림 -> 엔티티 배치 -> 엔티티 간 관계 설정 -> 관계명 기술 -> 관계 참여도 기술 -> 관계 필수 여부 기술
    
 2. 엔티티 배치
 
    * 가장 중요한 엔티티를 왼쪽 상단에 배치하고 이것을 중심으로 엔티티를 나열하면 사람의 눈이 따라가기 편리한 데이터 모델링 전개 가능
    * 업무 흐름에 중심이 되는 엔티티는 중앙에 배치
    * 업무를 진행하는 중심 엔티티와 관계를 갖는 엔티티들은 중심에 배치된 엔티티 주위에 배치
    
 3. ERD 관계 연결
 
    중복된 관계가 발생하지 않도록 하고 Circle 관계도 발생하지 않도록 유의
    
 4. ERD 관계명 표시
 
    * 현재형 사용
    * 지나치게 포괄적인 용어는 사용X
    
 5. ERD 관계 차수와 선택성 표시
 
    * IE 표기법: 단일 관계는 실선, 다수 관계는 까마귀발 모양에 원
    * Barker 표기법: 단일 관계는 실선과 점선 혼합, 다수 관계는 까마귀발 모양
    
![sqlp7](https://user-images.githubusercontent.com/52366841/129126313-67aafb05-0428-412e-b554-b241266459cb.PNG)


 
 
  
    
    
 





































